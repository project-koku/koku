---
apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: koku-cji
objects:
- apiVersion: cloud.redhat.com/v1alpha1
  kind: ClowdJobInvocation
  metadata:
    name: management-command-cji-${MGMT_IMAGE_TAG}-${MGMT_INVOCATION}
  spec:
    appName: koku-cji
    jobs:
      - management-command-cji-${MGMT_IMAGE_TAG}-${MGMT_INVOCATION}
parameters:
- description: Management Command Image Tag
  name: MGMT_IMAGE_TAG
  required: true
  value: latest
- description: Management Command Image
  name: MGMT_IMAGE
  required: true
  value: quay.io/cloudservices/koku
- displayName: Memory Request
  name: KOKU_MGMT_MEMORY_REQUEST
  required: true
  value: 1Gi
- displayName: Memory Limit
  name: KOKU_MGMT_MEMORY_LIMIT
  required: true
  value: 2Gi
- displayName: CPU Request
  name: KOKU_MGMT_CPU_REQUEST
  required: true
  value: "2"
- displayName: CPU Limit
  name: KOKU_MGMT_CPU_LIMIT
  required: true
  value: "3"
- description: Management Command Invocation Iterator
  name: MGMT_INVOCATION
  required: true
  value: "00"
- description: Management Command
  name: MGMT_COMMAND
  required: true
  value: ""
