PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
);
INSERT INTO migration_log VALUES(1,'create migration_log table',replace('CREATE TABLE IF NOT EXISTS `migration_log` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `migration_id` TEXT NOT NULL\n, `sql` TEXT NOT NULL\n, `success` INTEGER NOT NULL\n, `error` TEXT NOT NULL\n, `timestamp` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(2,'create user table',replace('CREATE TABLE IF NOT EXISTS `user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `login` TEXT NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `password` TEXT NULL\n, `salt` TEXT NULL\n, `rands` TEXT NULL\n, `company` TEXT NULL\n, `account_id` INTEGER NOT NULL\n, `is_admin` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(3,'add unique index user.login','CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(4,'add unique index user.email','CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(5,'drop index UQE_user_login - v1','DROP INDEX `UQE_user_login`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(6,'drop index UQE_user_email - v1','DROP INDEX `UQE_user_email`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(7,'Rename table user to user_v1 - v1','ALTER TABLE `user` RENAME TO `user_v1`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(8,'create user table v2',replace('CREATE TABLE IF NOT EXISTS `user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `login` TEXT NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `password` TEXT NULL\n, `salt` TEXT NULL\n, `rands` TEXT NULL\n, `company` TEXT NULL\n, `org_id` INTEGER NOT NULL\n, `is_admin` INTEGER NOT NULL\n, `email_verified` INTEGER NULL\n, `theme` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(9,'create index UQE_user_login - v2','CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(10,'create index UQE_user_email - v2','CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(11,'copy data_source v1 to v2',replace('INSERT INTO `user` (`org_id`\n, `created`\n, `login`\n, `name`\n, `rands`\n, `password`\n, `salt`\n, `company`\n, `is_admin`\n, `updated`\n, `id`\n, `version`\n, `email`) SELECT `account_id`\n, `created`\n, `login`\n, `name`\n, `rands`\n, `password`\n, `salt`\n, `company`\n, `is_admin`\n, `updated`\n, `id`\n, `version`\n, `email` FROM `user_v1`','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(12,'Drop old table user_v1','DROP TABLE IF EXISTS `user_v1`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(13,'Add column help_flags1 to user table','alter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(14,'Update user table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(15,'Add last_seen_at column to user','alter table `user` ADD COLUMN `last_seen_at` DATETIME NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(16,'Add missing user data','code migration',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(17,'Add is_disabled column to user','alter table `user` ADD COLUMN `is_disabled` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(18,'create temp user table v1-7',replace('CREATE TABLE IF NOT EXISTS `temp_user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `role` TEXT NULL\n, `code` TEXT NOT NULL\n, `status` TEXT NOT NULL\n, `invited_by_user_id` INTEGER NULL\n, `email_sent` INTEGER NOT NULL\n, `email_sent_on` DATETIME NULL\n, `remote_addr` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(19,'create index IDX_temp_user_email - v1-7','CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(20,'create index IDX_temp_user_org_id - v1-7','CREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(21,'create index IDX_temp_user_code - v1-7','CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(22,'create index IDX_temp_user_status - v1-7','CREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(23,'Update temp_user table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(24,'create star table',replace('CREATE TABLE IF NOT EXISTS `star` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `user_id` INTEGER NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(25,'add unique index star.user_id_dashboard_id','CREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(26,'create org table v1',replace('CREATE TABLE IF NOT EXISTS `org` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `address1` TEXT NULL\n, `address2` TEXT NULL\n, `city` TEXT NULL\n, `state` TEXT NULL\n, `zip_code` TEXT NULL\n, `country` TEXT NULL\n, `billing_email` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(27,'create index UQE_org_name - v1','CREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(28,'create org_user table v1',replace('CREATE TABLE IF NOT EXISTS `org_user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `role` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(29,'create index IDX_org_user_org_id - v1','CREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(30,'create index UQE_org_user_org_id_user_id - v1','CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(31,'Update org table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(32,'Update org_user table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(33,'Migrate all Read Only Viewers to Viewers','UPDATE org_user SET role = ''Viewer'' WHERE role = ''Read Only Editor''',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(34,'create dashboard table',replace('CREATE TABLE IF NOT EXISTS `dashboard` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `slug` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `account_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(35,'add index dashboard.account_id','CREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(36,'add unique index dashboard_account_id_slug','CREATE UNIQUE INDEX `UQE_dashboard_account_id_slug` ON `dashboard` (`account_id`,`slug`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(37,'create dashboard_tag table',replace('CREATE TABLE IF NOT EXISTS `dashboard_tag` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `term` TEXT NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(38,'add unique index dashboard_tag.dasboard_id_term','CREATE UNIQUE INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag` (`dashboard_id`,`term`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(39,'drop index UQE_dashboard_tag_dashboard_id_term - v1','DROP INDEX `UQE_dashboard_tag_dashboard_id_term`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(40,'Rename table dashboard to dashboard_v1 - v1','ALTER TABLE `dashboard` RENAME TO `dashboard_v1`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(41,'create dashboard v2',replace('CREATE TABLE IF NOT EXISTS `dashboard` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `slug` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(42,'create index IDX_dashboard_org_id - v2','CREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(43,'create index UQE_dashboard_org_id_slug - v2','CREATE UNIQUE INDEX `UQE_dashboard_org_id_slug` ON `dashboard` (`org_id`,`slug`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(44,'copy dashboard v1 to v2',replace('INSERT INTO `dashboard` (`org_id`\n, `created`\n, `updated`\n, `id`\n, `version`\n, `slug`\n, `title`\n, `data`) SELECT `account_id`\n, `created`\n, `updated`\n, `id`\n, `version`\n, `slug`\n, `title`\n, `data` FROM `dashboard_v1`','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(45,'drop table dashboard_v1','DROP TABLE IF EXISTS `dashboard_v1`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(46,'alter dashboard.data to mediumtext v1','SELECT 0;',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(47,'Add column updated_by in dashboard - v2','alter table `dashboard` ADD COLUMN `updated_by` INTEGER NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(48,'Add column created_by in dashboard - v2','alter table `dashboard` ADD COLUMN `created_by` INTEGER NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(49,'Add column gnetId in dashboard','alter table `dashboard` ADD COLUMN `gnet_id` INTEGER NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(50,'Add index for gnetId in dashboard','CREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(51,'Add column plugin_id in dashboard','alter table `dashboard` ADD COLUMN `plugin_id` TEXT NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(52,'Add index for plugin_id in dashboard','CREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(53,'Add index for dashboard_id in dashboard_tag','CREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(54,'Update dashboard table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(55,'Update dashboard_tag table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(56,'Add column folder_id in dashboard','alter table `dashboard` ADD COLUMN `folder_id` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(57,'Add column isFolder in dashboard','alter table `dashboard` ADD COLUMN `is_folder` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(58,'Add column has_acl in dashboard','alter table `dashboard` ADD COLUMN `has_acl` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(59,'Add column uid in dashboard','alter table `dashboard` ADD COLUMN `uid` TEXT NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(60,'Update uid column values in dashboard','UPDATE dashboard SET uid=printf(''%09d'',id) WHERE uid IS NULL;',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(61,'Add unique index dashboard_org_id_uid','CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(62,'Remove unique index org_id_slug','DROP INDEX `UQE_dashboard_org_id_slug`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(63,'Update dashboard title length','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(64,'Add unique index for dashboard_org_id_title_folder_id','CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(65,'create dashboard_provisioning',replace('CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NULL\n, `name` TEXT NOT NULL\n, `external_id` TEXT NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(66,'Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1','ALTER TABLE `dashboard_provisioning` RENAME TO `dashboard_provisioning_tmp_qwerty`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(67,'create dashboard_provisioning v2',replace('CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NULL\n, `name` TEXT NOT NULL\n, `external_id` TEXT NOT NULL\n, `updated` INTEGER NOT NULL DEFAULT 0\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(68,'create index IDX_dashboard_provisioning_dashboard_id - v2','CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(69,'create index IDX_dashboard_provisioning_dashboard_id_name - v2','CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(70,'copy dashboard_provisioning v1 to v2',replace('INSERT INTO `dashboard_provisioning` (`name`\n, `external_id`\n, `id`\n, `dashboard_id`) SELECT `name`\n, `external_id`\n, `id`\n, `dashboard_id` FROM `dashboard_provisioning_tmp_qwerty`','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(71,'drop dashboard_provisioning_tmp_qwerty','DROP TABLE IF EXISTS `dashboard_provisioning_tmp_qwerty`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(72,'Add check_sum column','alter table `dashboard_provisioning` ADD COLUMN `check_sum` TEXT NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(73,'create data_source table',replace('CREATE TABLE IF NOT EXISTS `data_source` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `account_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `name` TEXT NOT NULL\n, `access` TEXT NOT NULL\n, `url` TEXT NOT NULL\n, `password` TEXT NULL\n, `user` TEXT NULL\n, `database` TEXT NULL\n, `basic_auth` INTEGER NOT NULL\n, `basic_auth_user` TEXT NULL\n, `basic_auth_password` TEXT NULL\n, `is_default` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(74,'add index data_source.account_id','CREATE INDEX `IDX_data_source_account_id` ON `data_source` (`account_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(75,'add unique index data_source.account_id_name','CREATE UNIQUE INDEX `UQE_data_source_account_id_name` ON `data_source` (`account_id`,`name`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(76,'drop index IDX_data_source_account_id - v1','DROP INDEX `IDX_data_source_account_id`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(77,'drop index UQE_data_source_account_id_name - v1','DROP INDEX `UQE_data_source_account_id_name`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(78,'Rename table data_source to data_source_v1 - v1','ALTER TABLE `data_source` RENAME TO `data_source_v1`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(79,'create data_source table v2',replace('CREATE TABLE IF NOT EXISTS `data_source` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `name` TEXT NOT NULL\n, `access` TEXT NOT NULL\n, `url` TEXT NOT NULL\n, `password` TEXT NULL\n, `user` TEXT NULL\n, `database` TEXT NULL\n, `basic_auth` INTEGER NOT NULL\n, `basic_auth_user` TEXT NULL\n, `basic_auth_password` TEXT NULL\n, `is_default` INTEGER NOT NULL\n, `json_data` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(80,'create index IDX_data_source_org_id - v2','CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(81,'create index UQE_data_source_org_id_name - v2','CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(82,'copy data_source v1 to v2',replace('INSERT INTO `data_source` (`version`\n, `name`\n, `user`\n, `password`\n, `database`\n, `created`\n, `org_id`\n, `id`\n, `access`\n, `basic_auth`\n, `basic_auth_password`\n, `is_default`\n, `type`\n, `basic_auth_user`\n, `updated`\n, `url`) SELECT `version`\n, `name`\n, `user`\n, `password`\n, `database`\n, `created`\n, `account_id`\n, `id`\n, `access`\n, `basic_auth`\n, `basic_auth_password`\n, `is_default`\n, `type`\n, `basic_auth_user`\n, `updated`\n, `url` FROM `data_source_v1`','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(83,'Drop old table data_source_v1 #2','DROP TABLE IF EXISTS `data_source_v1`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(84,'Add column with_credentials','alter table `data_source` ADD COLUMN `with_credentials` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(85,'Add secure json data column','alter table `data_source` ADD COLUMN `secure_json_data` TEXT NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(86,'Update data_source table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(87,'Update initial version to 1','UPDATE data_source SET version = 1 WHERE version = 0',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(88,'Add read_only data column','alter table `data_source` ADD COLUMN `read_only` INTEGER NULL ',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(89,'Migrate logging ds to loki ds','UPDATE data_source SET type = ''loki'' WHERE type = ''logging''',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(90,'Update json_data with nulls','UPDATE data_source SET json_data = ''{}'' WHERE json_data is null',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(91,'create api_key table',replace('CREATE TABLE IF NOT EXISTS `api_key` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `account_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `role` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(92,'add index api_key.account_id','CREATE INDEX `IDX_api_key_account_id` ON `api_key` (`account_id`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(93,'add index api_key.key','CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(94,'add index api_key.account_id_name','CREATE UNIQUE INDEX `UQE_api_key_account_id_name` ON `api_key` (`account_id`,`name`);',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(95,'drop index IDX_api_key_account_id - v1','DROP INDEX `IDX_api_key_account_id`',1,'','2020-02-18 16:17:54');
INSERT INTO migration_log VALUES(96,'drop index UQE_api_key_key - v1','DROP INDEX `UQE_api_key_key`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(97,'drop index UQE_api_key_account_id_name - v1','DROP INDEX `UQE_api_key_account_id_name`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(98,'Rename table api_key to api_key_v1 - v1','ALTER TABLE `api_key` RENAME TO `api_key_v1`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(99,'create api_key table v2',replace('CREATE TABLE IF NOT EXISTS `api_key` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `role` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(100,'create index IDX_api_key_org_id - v2','CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(101,'create index UQE_api_key_key - v2','CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(102,'create index UQE_api_key_org_id_name - v2','CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(103,'copy api_key v1 to v2',replace('INSERT INTO `api_key` (`id`\n, `org_id`\n, `name`\n, `key`\n, `role`\n, `created`\n, `updated`) SELECT `id`\n, `account_id`\n, `name`\n, `key`\n, `role`\n, `created`\n, `updated` FROM `api_key_v1`','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(104,'Drop old table api_key_v1','DROP TABLE IF EXISTS `api_key_v1`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(105,'Update api_key table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(106,'Add expires to api_key table','alter table `api_key` ADD COLUMN `expires` INTEGER NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(107,'create dashboard_snapshot table v4',replace('CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `dashboard` TEXT NOT NULL\n, `expires` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(108,'drop table dashboard_snapshot_v4 #1','DROP TABLE IF EXISTS `dashboard_snapshot`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(109,'create dashboard_snapshot table v5 #2',replace('CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `delete_key` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `external` INTEGER NOT NULL\n, `external_url` TEXT NOT NULL\n, `dashboard` TEXT NOT NULL\n, `expires` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(110,'create index UQE_dashboard_snapshot_key - v5','CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(111,'create index UQE_dashboard_snapshot_delete_key - v5','CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(112,'create index IDX_dashboard_snapshot_user_id - v5','CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(113,'alter dashboard_snapshot to mediumtext v2','SELECT 0;',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(114,'Update dashboard_snapshot table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(115,'Add column external_delete_url to dashboard_snapshots table','alter table `dashboard_snapshot` ADD COLUMN `external_delete_url` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(116,'create quota table v1',replace('CREATE TABLE IF NOT EXISTS `quota` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NULL\n, `user_id` INTEGER NULL\n, `target` TEXT NOT NULL\n, `limit` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(117,'create index UQE_quota_org_id_user_id_target - v1','CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(118,'Update quota table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(119,'create plugin_setting table',replace('CREATE TABLE IF NOT EXISTS `plugin_setting` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NULL\n, `plugin_id` TEXT NOT NULL\n, `enabled` INTEGER NOT NULL\n, `pinned` INTEGER NOT NULL\n, `json_data` TEXT NULL\n, `secure_json_data` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(120,'create index UQE_plugin_setting_org_id_plugin_id - v1','CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(121,'Add column plugin_version to plugin_settings','alter table `plugin_setting` ADD COLUMN `plugin_version` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(122,'Update plugin_setting table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(123,'create session table',replace('CREATE TABLE IF NOT EXISTS `session` (\n`key` TEXT PRIMARY KEY NOT NULL\n, `data` BLOB NOT NULL\n, `expiry` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(124,'Drop old table playlist table','DROP TABLE IF EXISTS `playlist`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(125,'Drop old table playlist_item table','DROP TABLE IF EXISTS `playlist_item`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(126,'create playlist table v2',replace('CREATE TABLE IF NOT EXISTS `playlist` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `interval` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(127,'create playlist item table v2',replace('CREATE TABLE IF NOT EXISTS `playlist_item` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `playlist_id` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `value` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `order` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(128,'Update playlist table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(129,'Update playlist_item table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(130,'drop preferences table v2','DROP TABLE IF EXISTS `preferences`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(131,'drop preferences table v3','DROP TABLE IF EXISTS `preferences`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(132,'create preferences table v3',replace('CREATE TABLE IF NOT EXISTS `preferences` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `home_dashboard_id` INTEGER NOT NULL\n, `timezone` TEXT NOT NULL\n, `theme` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(133,'Update preferences table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(134,'Add column team_id in preferences','alter table `preferences` ADD COLUMN `team_id` INTEGER NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(135,'Update team_id column values in preferences','UPDATE preferences SET team_id=0 WHERE team_id IS NULL;',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(136,'create alert table v1',replace('CREATE TABLE IF NOT EXISTS `alert` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `panel_id` INTEGER NOT NULL\n, `org_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `message` TEXT NOT NULL\n, `state` TEXT NOT NULL\n, `settings` TEXT NOT NULL\n, `frequency` INTEGER NOT NULL\n, `handler` INTEGER NOT NULL\n, `severity` TEXT NOT NULL\n, `silenced` INTEGER NOT NULL\n, `execution_error` TEXT NOT NULL\n, `eval_data` TEXT NULL\n, `eval_date` DATETIME NULL\n, `new_state_date` DATETIME NOT NULL\n, `state_changes` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(137,'add index alert org_id & id ','CREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(138,'add index alert state','CREATE INDEX `IDX_alert_state` ON `alert` (`state`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(139,'add index alert dashboard_id','CREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(140,'Create alert_rule_tag table v1',replace('CREATE TABLE IF NOT EXISTS `alert_rule_tag` (\n`alert_id` INTEGER NOT NULL\n, `tag_id` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(141,'Add unique index alert_rule_tag.alert_id_tag_id','CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(142,'create alert_notification table v1',replace('CREATE TABLE IF NOT EXISTS `alert_notification` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `type` TEXT NOT NULL\n, `settings` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(143,'Add column is_default','alter table `alert_notification` ADD COLUMN `is_default` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(144,'Add column frequency','alter table `alert_notification` ADD COLUMN `frequency` INTEGER NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(145,'Add column send_reminder','alter table `alert_notification` ADD COLUMN `send_reminder` INTEGER NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(146,'Add column disable_resolve_message','alter table `alert_notification` ADD COLUMN `disable_resolve_message` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(147,'add index alert_notification org_id & name','CREATE UNIQUE INDEX `UQE_alert_notification_org_id_name` ON `alert_notification` (`org_id`,`name`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(148,'Update alert table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(149,'Update alert_notification table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(150,'create notification_journal table v1',replace('CREATE TABLE IF NOT EXISTS `alert_notification_journal` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alert_id` INTEGER NOT NULL\n, `notifier_id` INTEGER NOT NULL\n, `sent_at` INTEGER NOT NULL\n, `success` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(151,'add index notification_journal org_id & alert_id & notifier_id','CREATE INDEX `IDX_alert_notification_journal_org_id_alert_id_notifier_id` ON `alert_notification_journal` (`org_id`,`alert_id`,`notifier_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(152,'drop alert_notification_journal','DROP TABLE IF EXISTS `alert_notification_journal`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(153,'create alert_notification_state table v1',replace('CREATE TABLE IF NOT EXISTS `alert_notification_state` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alert_id` INTEGER NOT NULL\n, `notifier_id` INTEGER NOT NULL\n, `state` TEXT NOT NULL\n, `version` INTEGER NOT NULL\n, `updated_at` INTEGER NOT NULL\n, `alert_rule_state_updated_version` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(154,'add index alert_notification_state org_id & alert_id & notifier_id','CREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(155,'Add for to alert table','alter table `alert` ADD COLUMN `for` INTEGER NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(156,'Add column uid in alert_notification','alter table `alert_notification` ADD COLUMN `uid` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(157,'Update uid column values in alert_notification','UPDATE alert_notification SET uid=printf(''%09d'',id) WHERE uid IS NULL;',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(158,'Add unique index alert_notification_org_id_uid','CREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(159,'Remove unique index org_id_name','DROP INDEX `UQE_alert_notification_org_id_name`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(160,'Drop old annotation table v4','DROP TABLE IF EXISTS `annotation`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(161,'create annotation table v5',replace('CREATE TABLE IF NOT EXISTS `annotation` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alert_id` INTEGER NULL\n, `user_id` INTEGER NULL\n, `dashboard_id` INTEGER NULL\n, `panel_id` INTEGER NULL\n, `category_id` INTEGER NULL\n, `type` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `text` TEXT NOT NULL\n, `metric` TEXT NULL\n, `prev_state` TEXT NOT NULL\n, `new_state` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `epoch` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(162,'add index annotation 0 v3','CREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(163,'add index annotation 1 v3','CREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(164,'add index annotation 2 v3','CREATE INDEX `IDX_annotation_org_id_category_id` ON `annotation` (`org_id`,`category_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(165,'add index annotation 3 v3','CREATE INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation` (`org_id`,`dashboard_id`,`panel_id`,`epoch`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(166,'add index annotation 4 v3','CREATE INDEX `IDX_annotation_org_id_epoch` ON `annotation` (`org_id`,`epoch`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(167,'Update annotation table charset','-- NOT REQUIRED',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(168,'Add column region_id to annotation table','alter table `annotation` ADD COLUMN `region_id` INTEGER NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(169,'Drop category_id index','DROP INDEX `IDX_annotation_org_id_category_id`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(170,'Add column tags to annotation table','alter table `annotation` ADD COLUMN `tags` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(171,'Create annotation_tag table v2',replace('CREATE TABLE IF NOT EXISTS `annotation_tag` (\n`annotation_id` INTEGER NOT NULL\n, `tag_id` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(172,'Add unique index annotation_tag.annotation_id_tag_id','CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(173,'Update alert annotations and set TEXT to empty','UPDATE annotation SET TEXT = '''' WHERE alert_id > 0',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(174,'Add created time to annotation table','alter table `annotation` ADD COLUMN `created` INTEGER NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(175,'Add updated time to annotation table','alter table `annotation` ADD COLUMN `updated` INTEGER NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(176,'Add index for created in annotation table','CREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(177,'Add index for updated in annotation table','CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(178,'Convert existing annotations from seconds to milliseconds','UPDATE annotation SET epoch = (epoch*1000) where epoch < 9999999999',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(179,'Add epoch_end column','alter table `annotation` ADD COLUMN `epoch_end` INTEGER NOT NULL DEFAULT 0 ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(180,'Add index for epoch_end','CREATE INDEX `IDX_annotation_org_id_epoch_epoch_end` ON `annotation` (`org_id`,`epoch`,`epoch_end`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(181,'Make epoch_end the same as epoch','UPDATE annotation SET epoch_end = epoch',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(182,'Move region to single row','code migration',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(183,'Remove index org_id_epoch from annotation table','DROP INDEX `IDX_annotation_org_id_epoch`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(184,'Remove index org_id_dashboard_id_panel_id_epoch from annotation table','DROP INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(185,'Add index for org_id_dashboard_id_epoch_end_epoch on annotation table','CREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(186,'Add index for org_id_epoch_end_epoch on annotation table','CREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(187,'Remove index org_id_epoch_epoch_end from annotation table','DROP INDEX `IDX_annotation_org_id_epoch_epoch_end`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(188,'create test_data table',replace('CREATE TABLE IF NOT EXISTS `test_data` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `metric1` TEXT NULL\n, `metric2` TEXT NULL\n, `value_big_int` INTEGER NULL\n, `value_double` REAL NULL\n, `value_float` REAL NULL\n, `value_int` INTEGER NULL\n, `time_epoch` INTEGER NOT NULL\n, `time_date_time` DATETIME NOT NULL\n, `time_time_stamp` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(189,'create dashboard_version table v1',replace('CREATE TABLE IF NOT EXISTS `dashboard_version` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `parent_version` INTEGER NOT NULL\n, `restored_from` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` INTEGER NOT NULL\n, `message` TEXT NOT NULL\n, `data` TEXT NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(190,'add index dashboard_version.dashboard_id','CREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(191,'add unique index dashboard_version.dashboard_id and dashboard_version.version','CREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(192,'Set dashboard version to 1 where 0','UPDATE dashboard SET version = 1 WHERE version = 0',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(193,'save existing dashboard data in dashboard_version table v1',replace('INSERT INTO dashboard_version\n(\n	dashboard_id,\n	version,\n	parent_version,\n	restored_from,\n	created,\n	created_by,\n	message,\n	data\n)\nSELECT\n	dashboard.id,\n	dashboard.version,\n	dashboard.version,\n	dashboard.version,\n	dashboard.updated,\n	COALESCE(dashboard.updated_by, -1),\n	'''',\n	dashboard.data\nFROM dashboard;','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(194,'alter dashboard_version.data to mediumtext v1','SELECT 0;',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(195,'create team table',replace('CREATE TABLE IF NOT EXISTS `team` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(196,'add index team.org_id','CREATE INDEX `IDX_team_org_id` ON `team` (`org_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(197,'add unique index team_org_id_name','CREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(198,'create team member table',replace('CREATE TABLE IF NOT EXISTS `team_member` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `team_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(199,'add index team_member.org_id','CREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(200,'add unique index team_member_org_id_team_id_user_id','CREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(201,'Add column email to team table','alter table `team` ADD COLUMN `email` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(202,'Add column external to team_member table','alter table `team_member` ADD COLUMN `external` INTEGER NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(203,'Add column permission to team_member table','alter table `team_member` ADD COLUMN `permission` INTEGER NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(204,'create dashboard acl table',replace('CREATE TABLE IF NOT EXISTS `dashboard_acl` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `user_id` INTEGER NULL\n, `team_id` INTEGER NULL\n, `permission` INTEGER NOT NULL DEFAULT 4\n, `role` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(205,'add index dashboard_acl_dashboard_id','CREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(206,'add unique index dashboard_acl_dashboard_id_user_id','CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(207,'add unique index dashboard_acl_dashboard_id_team_id','CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(208,'save default acl rules in dashboard_acl table',replace('\nINSERT INTO dashboard_acl\n	(\n		org_id,\n		dashboard_id,\n		permission,\n		role,\n		created,\n		updated\n	)\n	VALUES\n		(-1,-1, 1,''Viewer'',''2017-06-20'',''2017-06-20''),\n		(-1,-1, 2,''Editor'',''2017-06-20'',''2017-06-20'')\n	','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(209,'create tag table',replace('CREATE TABLE IF NOT EXISTS `tag` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `key` TEXT NOT NULL\n, `value` TEXT NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(210,'add index tag.key_value','CREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(211,'create login attempt table',replace('CREATE TABLE IF NOT EXISTS `login_attempt` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `username` TEXT NOT NULL\n, `ip_address` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(212,'add index login_attempt.username','CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(213,'drop index IDX_login_attempt_username - v1','DROP INDEX `IDX_login_attempt_username`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(214,'Rename table login_attempt to login_attempt_tmp_qwerty - v1','ALTER TABLE `login_attempt` RENAME TO `login_attempt_tmp_qwerty`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(215,'create login_attempt v2',replace('CREATE TABLE IF NOT EXISTS `login_attempt` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `username` TEXT NOT NULL\n, `ip_address` TEXT NOT NULL\n, `created` INTEGER NOT NULL DEFAULT 0\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(216,'create index IDX_login_attempt_username - v2','CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(217,'copy login_attempt v1 to v2',replace('INSERT INTO `login_attempt` (`id`\n, `username`\n, `ip_address`) SELECT `id`\n, `username`\n, `ip_address` FROM `login_attempt_tmp_qwerty`','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(218,'drop login_attempt_tmp_qwerty','DROP TABLE IF EXISTS `login_attempt_tmp_qwerty`',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(219,'create user auth table',replace('CREATE TABLE IF NOT EXISTS `user_auth` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `user_id` INTEGER NOT NULL\n, `auth_module` TEXT NOT NULL\n, `auth_id` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(220,'create index IDX_user_auth_auth_module_auth_id - v1','CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(221,'alter user_auth.auth_id to length 190','SELECT 0;',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(222,'Add OAuth access token to user_auth','alter table `user_auth` ADD COLUMN `o_auth_access_token` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(223,'Add OAuth refresh token to user_auth','alter table `user_auth` ADD COLUMN `o_auth_refresh_token` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(224,'Add OAuth token type to user_auth','alter table `user_auth` ADD COLUMN `o_auth_token_type` TEXT NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(225,'Add OAuth expiry to user_auth','alter table `user_auth` ADD COLUMN `o_auth_expiry` DATETIME NULL ',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(226,'Add index to user_id column in user_auth','CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(227,'create server_lock table',replace('CREATE TABLE IF NOT EXISTS `server_lock` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `operation_uid` TEXT NOT NULL\n, `version` INTEGER NOT NULL\n, `last_execution` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(228,'add index server_lock.operation_uid','CREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(229,'create user auth token table',replace('CREATE TABLE IF NOT EXISTS `user_auth_token` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `user_id` INTEGER NOT NULL\n, `auth_token` TEXT NOT NULL\n, `prev_auth_token` TEXT NOT NULL\n, `user_agent` TEXT NOT NULL\n, `client_ip` TEXT NOT NULL\n, `auth_token_seen` INTEGER NOT NULL\n, `seen_at` INTEGER NULL\n, `rotated_at` INTEGER NOT NULL\n, `created_at` INTEGER NOT NULL\n, `updated_at` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(230,'add unique index user_auth_token.auth_token','CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(231,'add unique index user_auth_token.prev_auth_token','CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);',1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(232,'create cache_data table',replace('CREATE TABLE IF NOT EXISTS `cache_data` (\n`cache_key` TEXT PRIMARY KEY NOT NULL\n, `data` BLOB NOT NULL\n, `expires` INTEGER NOT NULL\n, `created_at` INTEGER NOT NULL\n);','\n',char(10)),1,'','2020-02-18 16:17:55');
INSERT INTO migration_log VALUES(233,'add unique index cache_data.cache_key','CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`);',1,'','2020-02-18 16:17:55');
CREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0);
INSERT INTO user VALUES(1,0,'admin','admin@localhost','','39284ec7f0c770e20d48c10bc83f91b5f533153b9dee790499d9632a52dfa39a23bcbbd08439874324fcb0e417ceac0ba07e','JBQT8k3tRb','CI4zfl36r6','',1,1,0,'','2020-02-18 16:17:55','2020-02-18 16:18:30',0,'2020-03-02 17:16:33',0);
CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);
CREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
);
INSERT INTO star VALUES(1,1,2);
CREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);
INSERT INTO org VALUES(1,0,'Red Hat','','','','','','',NULL,'2020-02-18 16:17:55','2020-02-18 18:44:14');
CREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);
INSERT INTO org_user VALUES(1,1,1,'Admin','2020-02-18 16:17:55','2020-02-18 16:17:55');
CREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
);
CREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NULL, `created_by` INTEGER NULL, `gnet_id` INTEGER NULL, `plugin_id` TEXT NULL, `folder_id` INTEGER NOT NULL DEFAULT 0, `is_folder` INTEGER NOT NULL DEFAULT 0, `has_acl` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL);
INSERT INTO dashboard VALUES(1,1,'postgresql-performance','PostgreSQL Performance','{"schemaVersion":17,"title":"PostgreSQL Performance","uid":"JHYrdoQWz","version":1}',1,'2020-02-18 16:38:22','2020-02-18 16:38:22',1,1,0,'',0,1,0,'JHYrdoQWz');
INSERT INTO dashboard VALUES(2,16,'postgresql-statement-statistics','PostgreSQL Statement Statistics',X'7b22616e6e6f746174696f6e73223a7b226c697374223a5b7b226275696c74496e223a312c2264617461736f75726365223a222d2d2047726166616e61202d2d222c22656e61626c65223a747275652c2268696465223a747275652c2269636f6e436f6c6f72223a227267626128302c203231312c203235352c203129222c226e616d65223a22416e6e6f746174696f6e73205c753030323620416c65727473222c2274797065223a2264617368626f617264227d5d7d2c226564697461626c65223a747275652c22676e65744964223a6e756c6c2c226772617068546f6f6c746970223a302c226964223a322c226c696e6b73223a5b5d2c2270616e656c73223a5b7b22636f6c756d6e73223a5b5d2c2264617461736f75726365223a6e756c6c2c22666f6e7453697a65223a2231303025222c2267726964506f73223a7b2268223a31322c2277223a32342c2278223a302c2279223a307d2c226964223a322c226f7074696f6e73223a7b7d2c227061676553697a65223a6e756c6c2c2273686f77486561646572223a747275652c22736f7274223a7b22636f6c223a302c2264657363223a747275657d2c227374796c6573223a5b7b22616c696173223a226d61785f74696d65286d7329222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a2276616c7565222c22636f6c6f7273223a5b22726762612835302c203137322c2034352c20302e393729222c2272676261283233372c203132392c2034302c20302e383929222c2272676261283234352c2035342c2035342c20302e3929225d2c22646563696d616c73223a342c227061747465726e223a226d61785f74696d65222c227468726573686f6c6473223a5b2231303030222c2232303030225d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d2c7b22616c696173223a226d65616e5f74696d65286d7329222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a2276616c7565222c22636f6c6f7273223a5b22726762612835302c203137322c2034352c20302e393729222c2272676261283233372c203132392c2034302c20302e383929222c2272676261283234352c2035342c2035342c20302e3929225d2c22646563696d616c73223a342c227061747465726e223a226d65616e5f74696d65222c227468726573686f6c6473223a5b2231303030222c2232303030225d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d2c7b22616c696173223a22222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a302c226d617070696e6754797065223a312c227061747465726e223a2263616c6c73222c227468726573686f6c6473223a5b5d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d2c7b22616c696173223a22222c22616c69676e223a226c656674222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a322c226d617070696e6754797065223a312c227061747465726e223a227175657279222c227072657365727665466f726d6174223a66616c73652c227468726573686f6c6473223a5b5d2c2274797065223a22737472696e67222c22756e6974223a2273686f7274227d5d2c2274617267657473223a5b7b22666f726d6174223a227461626c65222c2267726f7570223a5b5d2c226d6574726963436f6c756d6e223a226e6f6e65222c227261775175657279223a747275652c2272617753716c223a2253454c4543545c6e20206d65616e5f74696d652c5c6e20206d61785f74696d652c5c6e202063616c6c732c5c6e202071756572795c6e46524f4d2070675f737461745f73746174656d656e74735c6e4f5244455220425920312064657363222c227265664964223a2241222c2273656c656374223a5b5b7b22706172616d73223a5b226d61785f74696d65225d2c2274797065223a22636f6c756d6e227d5d5d2c227461626c65223a2270675f737461745f73746174656d656e7473222c2274696d65436f6c756d6e223a226e6f772829222c2274696d65436f6c756d6e54797065223a22666c6f617438222c227768657265223a5b5d7d5d2c2274696d6546726f6d223a6e756c6c2c2274696d655368696674223a6e756c6c2c227469746c65223a2253746174656d656e742053746174697374696373222c227472616e73666f726d223a227461626c65222c2274797065223a227461626c65227d2c7b22636f6c756d6e73223a5b5d2c2264617461736f75726365223a6e756c6c2c22666f6e7453697a65223a2231303025222c2267726964506f73223a7b2268223a362c2277223a352c2278223a302c2279223a31327d2c226964223a342c226f7074696f6e73223a7b7d2c227061676553697a65223a6e756c6c2c2273686f77486561646572223a747275652c22736f7274223a7b22636f6c223a302c2264657363223a747275657d2c227374796c6573223a5b7b22616c696173223a227374617465222c22616c69676e223a226175746f222c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c227061747465726e223a227374617465222c227468726573686f6c6473223a5b22225d2c2274797065223a22737472696e67227d2c7b22616c696173223a22636f756e74222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c22646563696d616c73223a302c227061747465726e223a22636f756e74222c227468726573686f6c6473223a5b223530222c22313030225d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d2c7b22616c696173223a22746f74616c222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a302c226d617070696e6754797065223a312c227061747465726e223a22746f74616c222c227468726573686f6c6473223a5b5d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d2c7b22616c696173223a22706374222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a322c226d617070696e6754797065223a312c227061747465726e223a22706374222c227468726573686f6c6473223a5b5d2c2274797065223a226e756d626572222c22756e6974223a2270657263656e74756e6974227d5d2c2274617267657473223a5b7b22666f726d6174223a227461626c65222c2267726f7570223a5b5d2c226d6574726963436f6c756d6e223a226e6f6e65222c227261775175657279223a747275652c2272617753716c223a2273656c65637420782e73746174652c205c6e20202020202020782e5c22636f756e745c222c5c6e20202020202020792e5c22746f74616c5c222c5c6e2020202020202028782e5c22636f756e745c223a3a6e756d657269632831302c3429202f20792e5c22746f74616c5c223a3a6e756d657269632831302c3429293a3a6e756d657269632831302c3429206173205c227063745c225c6e202066726f6d20285c6e20202020202020202073656c656374205c2273746174655c222c5c6e20202020202020202020202020202020636f756e74282a29206173205c22636f756e745c225c6e202020202020202020202066726f6d2070675f737461745f61637469766974795c6e202020202020202020207768657265207573656e616d65206973206e6f74206e756c6c205c6e202020202020202020202020616e64207573656e616d6520213d202764626d6f6e69746f72275c6e202020202020202020202020616e64207374617465206973206e6f74206e756c6c5c6e2020202020202020202067726f7570205c6e202020202020202020202020206279205c2273746174655c225c6e202020202020202920617320785c6e2063726f73735c6e20206a6f696e20285c6e20202020202020202073656c65637420636f756e74282a29206173205c22746f74616c5c225c6e202020202020202020202066726f6d2070675f737461745f61637469766974795c6e202020202020202020207768657265207573656e616d65206973206e6f74206e756c6c205c6e202020202020202020202020616e64207573656e616d6520213d202764626d6f6e69746f72275c6e202020202020202020202020616e64207374617465206973206e6f74206e756c6c5c6e202020202020202920617320795c6e206f72646572205c6e20202020627920782e5c2273746174655c223b5c6e222c227265664964223a2241222c2273656c656374223a5b5b7b22706172616d73223a5b2276616c7565225d2c2274797065223a22636f6c756d6e227d5d5d2c2274696d65436f6c756d6e223a2274696d65222c227768657265223a5b7b226e616d65223a22245f5f74696d6546696c746572222c22706172616d73223a5b5d2c2274797065223a226d6163726f227d5d7d5d2c2274696d6546726f6d223a6e756c6c2c2274696d655368696674223a6e756c6c2c227469746c65223a225175657279205374617465222c227472616e73666f726d223a227461626c65222c2274797065223a227461626c65227d2c7b22636f6c756d6e73223a5b5d2c2264617461736f75726365223a6e756c6c2c22666f6e7453697a65223a2231303025222c2267726964506f73223a7b2268223a372c2277223a31392c2278223a352c2279223a31327d2c226964223a382c226f7074696f6e73223a7b7d2c227061676553697a65223a6e756c6c2c2273686f77486561646572223a747275652c22736f7274223a7b22636f6c223a302c2264657363223a747275657d2c227374796c6573223a5b7b22616c696173223a22222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a2276616c7565222c22636f6c6f7273223a5b22726762612835302c203137322c2034352c20302e393729222c2272676261283233372c203132392c2034302c20302e383929222c2272676261283234352c2035342c2035342c20302e3929225d2c22646563696d616c73223a342c227061747465726e223a22656c6170736564222c227468726573686f6c6473223a5b22313030302e30222c22323030302e30225d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d2c7b22616c696173223a22222c22616c69676e223a226c656674222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a322c226d617070696e6754797065223a312c227061747465726e223a22776169745f74797065222c227468726573686f6c6473223a5b5d2c2274797065223a22737472696e67222c22756e6974223a2273686f7274227d2c7b22616c696173223a22222c22616c69676e223a226175746f222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a322c226d617070696e6754797065223a312c227061747465726e223a227175657279222c227468726573686f6c6473223a5b5d2c2274797065223a22737472696e67222c22756e6974223a2273686f7274227d5d2c2274617267657473223a5b7b22666f726d6174223a227461626c65222c2267726f7570223a5b5d2c226d6574726963436f6c756d6e223a226e6f6e65222c227261775175657279223a747275652c2272617753716c223a2273656c65637420657874726163742865706f63682066726f6d20286e6f772829202d2071756572795f737461727429293a3a6e756d657269632831322c3429206173205c22656c61707365645c222c5c6e20202020202020776169745f6576656e745f74797065206173205c22776169745f747970655c222c5c6e2020202020202071756572795c6e202066726f6d2070675f737461745f61637469766974795c6e207768657265207374617465203d2027616374697665275c6e202020616e64207573656e616d6520213d202764626d6f6e69746f72275c6e206f72646572205c6e202020206279203120646573633b222c227265664964223a2241222c2273656c656374223a5b5b7b22706172616d73223a5b2276616c7565225d2c2274797065223a22636f6c756d6e227d5d5d2c2274696d65436f6c756d6e223a2274696d65222c227768657265223a5b7b226e616d65223a22245f5f74696d6546696c746572222c22706172616d73223a5b5d2c2274797065223a226d6163726f227d5d7d5d2c2274696d6546726f6d223a6e756c6c2c2274696d655368696674223a6e756c6c2c227469746c65223a224163746976652051756572792054696d6573222c227472616e73666f726d223a227461626c65222c2274797065223a227461626c65227d2c7b22636f6c756d6e73223a5b5d2c2264617461736f75726365223a6e756c6c2c22666f6e7453697a65223a2231303025222c2267726964506f73223a7b2268223a362c2277223a352c2278223a302c2279223a31387d2c226964223a362c226f7074696f6e73223a7b7d2c227061676553697a65223a6e756c6c2c2273686f77486561646572223a747275652c22736f7274223a7b22636f6c223a302c2264657363223a747275657d2c227374796c6573223a5b7b22616c696173223a2254696d65222c22616c69676e223a226c656674222c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c227061747465726e223a22776169745f6576656e745f74797065222c2274797065223a22737472696e67227d2c7b22616c696173223a22222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c2264617465466f726d6174223a22595959592d4d4d2d44442048483a6d6d3a7373222c22646563696d616c73223a322c226d617070696e6754797065223a312c227061747465726e223a22706374222c227468726573686f6c6473223a5b5d2c2274797065223a226e756d626572222c22756e6974223a2270657263656e74756e6974227d2c7b22616c696173223a22222c22616c69676e223a227269676874222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c22646563696d616c73223a302c227061747465726e223a222f2e2a2f222c227468726573686f6c6473223a5b5d2c2274797065223a226e756d626572222c22756e6974223a226e6f6e65227d5d2c2274617267657473223a5b7b22666f726d6174223a227461626c65222c2267726f7570223a5b5d2c226d6574726963436f6c756d6e223a226e6f6e65222c227261775175657279223a747275652c2272617753716c223a2273656c65637420782e776169745f6576656e745f747970652c205c725c6e20202020202020782e5c22636f756e745c222c5c725c6e20202020202020792e5c22746f74616c5c222c5c725c6e2020202020202063617365207768656e20792e5c22746f74616c5c22203d2030207468656e20302e303a3a6e756d657269632831302c342920656c73652028782e5c22636f756e745c223a3a6e756d657269632831302c3429202f20792e5c22746f74616c5c223a3a6e756d657269632831302c3429293a3a6e756d657269632831302c342920656e643a3a6e756d657269632831302c3429206173205c227063745c225c725c6e202066726f6d20285c725c6e20202020202020202073656c656374205c22776169745f6576656e745f747970655c222c5c725c6e20202020202020202020202020202020636f756e74282a29206173205c22636f756e745c225c725c6e202020202020202020202066726f6d2070675f737461745f61637469766974795c725c6e202020202020202020207768657265207573656e616d65206973206e6f74206e756c6c205c725c6e202020202020202020202020616e64207573656e616d6520213d202764626d6f6e69746f72275c725c6e202020202020202020202020616e6420776169745f6576656e745f74797065206973206e6f74206e756c6c5c725c6e202020202020202020202020616e6420737461746520213d202769646c65275c725c6e2020202020202020202067726f7570205c725c6e202020202020202020202020206279205c22776169745f6576656e745f747970655c225c725c6e202020202020202920617320785c725c6e2063726f73735c725c6e20206a6f696e20285c725c6e20202020202020202073656c65637420636f756e74282a29206173205c22746f74616c5c225c725c6e202020202020202020202066726f6d2070675f737461745f61637469766974795c725c6e202020202020202020207768657265207573656e616d65206973206e6f74206e756c6c205c725c6e202020202020202020202020616e64207573656e616d6520213d202764626d6f6e69746f72275c725c6e202020202020202020202020616e6420776169745f6576656e745f74797065206973206e6f74206e756c6c5c725c6e202020202020202020202020616e6420737461746520213d202769646c65275c725c6e202020202020202920617320795c725c6e206f72646572205c725c6e20202020627920782e5c22776169745f6576656e745f747970655c223b5c725c6e222c227265664964223a2241222c2273656c656374223a5b5b7b22706172616d73223a5b2276616c7565225d2c2274797065223a22636f6c756d6e227d5d5d2c2274696d65436f6c756d6e223a2274696d65222c227768657265223a5b7b226e616d65223a22245f5f74696d6546696c746572222c22706172616d73223a5b5d2c2274797065223a226d6163726f227d5d7d5d2c2274696d6546726f6d223a6e756c6c2c2274696d655368696674223a6e756c6c2c227469746c65223a2251756572792057616974205479706573222c227472616e73666f726d223a227461626c65222c2274797065223a227461626c65227d2c7b22636f6c756d6e73223a5b5d2c2264617461736f75726365223a6e756c6c2c22666f6e7453697a65223a2231303025222c2267726964506f73223a7b2268223a352c2277223a31392c2278223a352c2279223a31397d2c226964223a31302c226f7074696f6e73223a7b7d2c227061676553697a65223a6e756c6c2c2273686f77486561646572223a747275652c22736f7274223a7b22636f6c223a302c2264657363223a747275657d2c227374796c6573223a5b7b22616c696173223a22222c22616c69676e223a226c656674222c22636f6c6f724d6f6465223a6e756c6c2c22636f6c6f7273223a5b2272676261283234352c2035342c2035342c20302e3929222c2272676261283233372c203132392c2034302c20302e383929222c22726762612835302c203137322c2034352c20302e393729225d2c22646563696d616c73223a322c227061747465726e223a222f2e2a2f222c227468726573686f6c6473223a5b5d2c2274797065223a22737472696e67222c22756e6974223a2273686f7274227d5d2c2274617267657473223a5b7b22666f726d6174223a227461626c65222c2267726f7570223a5b5d2c226d6574726963436f6c756d6e223a226e6f6e65222c227261775175657279223a747275652c2272617753716c223a2273656c65637420776169745f6576656e745f747970652c5c6e20202020202020776169745f6576656e742c5c6e2020202020202071756572795c6e202066726f6d2070675f737461745f61637469766974795c6e207768657265207573656e616d65206973206e6f74206e756c6c5c6e202020616e64207573656e616d6520213d202764626d6f6e69746f72275c6e202020616e64207374617465203d2027616374697665275c6e202020616e6420776169745f6576656e745f74797065206973206e6f74206e756c6c3b5c6e222c227265664964223a2241222c2273656c656374223a5b5b7b22706172616d73223a5b2276616c7565225d2c2274797065223a22636f6c756d6e227d5d5d2c2274696d65436f6c756d6e223a2274696d65222c227768657265223a5b7b226e616d65223a22245f5f74696d6546696c746572222c22706172616d73223a5b5d2c2274797065223a226d6163726f227d5d7d5d2c2274696d6546726f6d223a6e756c6c2c2274696d655368696674223a6e756c6c2c227469746c65223a22517565727920576169742044657461696c222c227472616e73666f726d223a227461626c65222c2274797065223a227461626c65227d5d2c2272656672657368223a223573222c22736368656d6156657273696f6e223a32322c227374796c65223a226461726b222c2274616773223a5b5d2c2274656d706c6174696e67223a7b226c697374223a5b5d7d2c2274696d65223a7b2266726f6d223a226e6f772d3668222c22746f223a226e6f77227d2c2274696d657069636b6572223a7b2268696464656e223a66616c73652c22726566726573685f696e74657276616c73223a5b223173222c223273222c223573222c22313073225d7d2c2274696d657a6f6e65223a22222c227469746c65223a22506f737467726553514c2053746174656d656e742053746174697374696373222c22756964223a22797971434f6f51577a222c2276657273696f6e223a31367d',1,'2020-02-18 16:39:04','2020-03-02 17:17:10',1,1,0,'',1,0,0,'yyqCOoQWz');
CREATE TABLE `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
, `check_sum` TEXT NULL);
CREATE TABLE `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `with_credentials` INTEGER NOT NULL DEFAULT 0, `secure_json_data` TEXT NULL, `read_only` INTEGER NULL);
INSERT INTO data_source VALUES(1,1,4,'postgres','PostgreSQL','proxy','db:5432','','dbmonitor','postgres',0,'','',1,X'7b22706f73746772657356657273696f6e223a313030302c2273736c6d6f6465223a2264697361626c65227d','2020-02-18 16:18:38','2020-02-18 19:12:38',0,'{"password":"TkozMlltemSjp+H3w7AadwU+1N9O2ZcJhAMRjYAZf9xq"}',0);
CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL);
CREATE TABLE `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external_delete_url` TEXT NULL);
CREATE TABLE `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);
CREATE TABLE `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `plugin_version` TEXT NULL);
CREATE TABLE `session` (
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
);
CREATE TABLE `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
);
CREATE TABLE `playlist_item` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
);
CREATE TABLE `preferences` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `team_id` INTEGER NULL);
INSERT INTO preferences VALUES(1,1,0,0,2,'','','2020-02-18 20:32:54','2020-02-18 20:32:54',0);
CREATE TABLE `alert` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `for` INTEGER NULL);
CREATE TABLE `alert_rule_tag` (
`alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);
CREATE TABLE `alert_notification` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `is_default` INTEGER NOT NULL DEFAULT 0, `frequency` INTEGER NULL, `send_reminder` INTEGER NULL DEFAULT 0, `disable_resolve_message` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL);
CREATE TABLE `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
);
CREATE TABLE `annotation` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
, `region_id` INTEGER NULL DEFAULT 0, `tags` TEXT NULL, `created` INTEGER NULL DEFAULT 0, `updated` INTEGER NULL DEFAULT 0, `epoch_end` INTEGER NOT NULL DEFAULT 0);
CREATE TABLE `annotation_tag` (
`annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);
CREATE TABLE `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
);
CREATE TABLE `dashboard_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
);
INSERT INTO dashboard_version VALUES(1,1,0,0,1,'2020-02-18 16:38:22',1,'','{"schemaVersion":17,"title":"PostgreSQL Performance","uid":"JHYrdoQWz","version":1}');
INSERT INTO dashboard_version VALUES(2,2,0,0,1,'2020-02-18 16:39:04',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":null,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":9,"w":12,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s",""]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":1}');
INSERT INTO dashboard_version VALUES(3,2,1,0,2,'2020-02-18 16:40:30',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":25,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":2}');
INSERT INTO dashboard_version VALUES(4,2,2,0,3,'2020-02-18 16:52:09',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":25,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  max_time,\n  mean_time\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":3}');
INSERT INTO dashboard_version VALUES(5,2,3,0,4,'2020-02-18 16:52:12',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":25,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  max_time,\n  mean_time\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":4}');
INSERT INTO dashboard_version VALUES(6,2,4,0,5,'2020-02-18 16:55:54',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":25,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":5}');
INSERT INTO dashboard_version VALUES(7,2,5,0,6,'2020-02-18 18:32:36',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":6}');
INSERT INTO dashboard_version VALUES(8,2,6,0,7,'2020-02-18 19:14:16',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":7}');
INSERT INTO dashboard_version VALUES(11,2,7,0,8,'2020-02-18 19:40:23',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":0},"hiddenSeries":false,"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"format":"time_series","group":[],"metricColumn":"none","rawQuery":false,"rawSql":"SELECT\n  $__time(time_column),\n  value1\nFROM\n  metric_table\nWHERE\n  $__timeFilter(time_column)\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Panel Title","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":8},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":8}');
INSERT INTO dashboard_version VALUES(12,2,8,0,9,'2020-02-18 19:41:25',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":8,"w":5,"x":0,"y":12},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":true,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":9}');
INSERT INTO dashboard_version VALUES(13,2,9,0,10,'2020-02-18 19:42:21',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":8,"w":5,"x":0,"y":12},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"}],"schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":10}');
INSERT INTO dashboard_version VALUES(14,2,10,0,11,'2020-02-18 19:42:40',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":8,"w":5,"x":0,"y":12},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":11}');
INSERT INTO dashboard_version VALUES(15,2,11,0,12,'2020-02-18 19:44:48',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":0},"hiddenSeries":false,"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select 1;","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Panel Title","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":8},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":8,"w":5,"x":0,"y":20},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":12}');
INSERT INTO dashboard_version VALUES(16,2,12,0,13,'2020-02-18 19:53:31',1,'','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":8,"w":12,"x":0,"y":0},"id":6,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","align":"left","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"wait_event_type","type":"string"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"none"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.wait_event_type, \r\n       x.\"count\",\r\n       y.\"total\",\r\n       case when y.\"total\" = 0 then 0.0::numeric(10,4) else (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) end::numeric(10,4) as \"pct\"\r\n  from (\r\n         select \"wait_event_type\",\r\n                count(*) as \"count\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n          group \r\n             by \"wait_event_type\"\r\n       ) as x\r\n cross\r\n  join (\r\n         select count(*) as \"total\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n       ) as y\r\n order \r\n    by x.\"wait_event_type\";\r\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Types","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":8},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":8,"w":5,"x":0,"y":20},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":13}');
INSERT INTO dashboard_version VALUES(17,2,13,0,14,'2020-02-18 20:16:10',1,'1.0','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":6,"w":5,"x":0,"y":12},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":7,"w":19,"x":5,"y":12},"id":8,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"elapsed","thresholds":["1000.0","2000.0"],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"wait_type","thresholds":[],"type":"string","unit":"short"},{"alias":"","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select extract(epoch from (now() - query_start))::numeric(12,4) as \"elapsed\",\n       wait_event_type as \"wait_type\",\n       query\n  from pg_stat_activity\n where state = ''active''\n   and usename != ''dbmonitor''\n order \n    by 1 desc;","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Active Query Times","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":6,"w":5,"x":0,"y":18},"id":6,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","align":"left","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"wait_event_type","type":"string"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"none"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.wait_event_type, \r\n       x.\"count\",\r\n       y.\"total\",\r\n       case when y.\"total\" = 0 then 0.0::numeric(10,4) else (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) end::numeric(10,4) as \"pct\"\r\n  from (\r\n         select \"wait_event_type\",\r\n                count(*) as \"count\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n          group \r\n             by \"wait_event_type\"\r\n       ) as x\r\n cross\r\n  join (\r\n         select count(*) as \"total\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n       ) as y\r\n order \r\n    by x.\"wait_event_type\";\r\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Types","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":5,"w":19,"x":5,"y":19},"id":10,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"/.*/","thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select wait_event_type,\n       wait_event,\n       query\n  from pg_stat_activity\n where usename is not null\n   and usename != ''dbmonitor''\n   and state = ''active''\n   and wait_event_type is not null;\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Detail","transform":"table","type":"table"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":14}');
INSERT INTO dashboard_version VALUES(18,2,14,0,15,'2020-02-18 20:34:13',1,'very 1.0','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"max_time(ms)","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"mean_time(ms)","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":6,"w":5,"x":0,"y":12},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":7,"w":19,"x":5,"y":12},"id":8,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"elapsed","thresholds":["1000.0","2000.0"],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"wait_type","thresholds":[],"type":"string","unit":"short"},{"alias":"","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select extract(epoch from (now() - query_start))::numeric(12,4) as \"elapsed\",\n       wait_event_type as \"wait_type\",\n       query\n  from pg_stat_activity\n where state = ''active''\n   and usename != ''dbmonitor''\n order \n    by 1 desc;","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Active Query Times","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":6,"w":5,"x":0,"y":18},"id":6,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","align":"left","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"wait_event_type","type":"string"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"none"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.wait_event_type, \r\n       x.\"count\",\r\n       y.\"total\",\r\n       case when y.\"total\" = 0 then 0.0::numeric(10,4) else (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) end::numeric(10,4) as \"pct\"\r\n  from (\r\n         select \"wait_event_type\",\r\n                count(*) as \"count\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n          group \r\n             by \"wait_event_type\"\r\n       ) as x\r\n cross\r\n  join (\r\n         select count(*) as \"total\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n       ) as y\r\n order \r\n    by x.\"wait_event_type\";\r\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Types","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":5,"w":19,"x":5,"y":19},"id":10,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"/.*/","thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select wait_event_type,\n       wait_event,\n       query\n  from pg_stat_activity\n where usename is not null\n   and usename != ''dbmonitor''\n   and state = ''active''\n   and wait_event_type is not null;\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Detail","transform":"table","type":"table"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":15}');
INSERT INTO dashboard_version VALUES(19,2,15,0,16,'2020-03-02 17:17:10',1,'smaller intervals','{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":2,"links":[],"panels":[{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":12,"w":24,"x":0,"y":0},"id":2,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"max_time(ms)","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"max_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"mean_time(ms)","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"mean_time","thresholds":["1000","2000"],"type":"number","unit":"none"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"calls","thresholds":[],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","preserveFormat":false,"thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"SELECT\n  mean_time,\n  max_time,\n  calls,\n  query\nFROM pg_stat_statements\nORDER BY 1 desc","refId":"A","select":[[{"params":["max_time"],"type":"column"}]],"table":"pg_stat_statements","timeColumn":"now()","timeColumnType":"float8","where":[]}],"timeFrom":null,"timeShift":null,"title":"Statement Statistics","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":6,"w":5,"x":0,"y":12},"id":4,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"state","align":"auto","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"state","thresholds":[""],"type":"string"},{"alias":"count","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"count","thresholds":["50","100"],"type":"number","unit":"none"},{"alias":"total","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":0,"mappingType":1,"pattern":"total","thresholds":[],"type":"number","unit":"none"},{"alias":"pct","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.state, \n       x.\"count\",\n       y.\"total\",\n       (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) as \"pct\"\n  from (\n         select \"state\",\n                count(*) as \"count\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n          group \n             by \"state\"\n       ) as x\n cross\n  join (\n         select count(*) as \"total\"\n           from pg_stat_activity\n          where usename is not null \n            and usename != ''dbmonitor''\n            and state is not null\n       ) as y\n order \n    by x.\"state\";\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query State","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":7,"w":19,"x":5,"y":12},"id":8,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"right","colorMode":"value","colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"decimals":4,"pattern":"elapsed","thresholds":["1000.0","2000.0"],"type":"number","unit":"none"},{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"wait_type","thresholds":[],"type":"string","unit":"short"},{"alias":"","align":"auto","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"query","thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select extract(epoch from (now() - query_start))::numeric(12,4) as \"elapsed\",\n       wait_event_type as \"wait_type\",\n       query\n  from pg_stat_activity\n where state = ''active''\n   and usename != ''dbmonitor''\n order \n    by 1 desc;","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Active Query Times","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":6,"w":5,"x":0,"y":18},"id":6,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","align":"left","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"wait_event_type","type":"string"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"pct","thresholds":[],"type":"number","unit":"percentunit"},{"alias":"","align":"right","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":0,"pattern":"/.*/","thresholds":[],"type":"number","unit":"none"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select x.wait_event_type, \r\n       x.\"count\",\r\n       y.\"total\",\r\n       case when y.\"total\" = 0 then 0.0::numeric(10,4) else (x.\"count\"::numeric(10,4) / y.\"total\"::numeric(10,4))::numeric(10,4) end::numeric(10,4) as \"pct\"\r\n  from (\r\n         select \"wait_event_type\",\r\n                count(*) as \"count\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n          group \r\n             by \"wait_event_type\"\r\n       ) as x\r\n cross\r\n  join (\r\n         select count(*) as \"total\"\r\n           from pg_stat_activity\r\n          where usename is not null \r\n            and usename != ''dbmonitor''\r\n            and wait_event_type is not null\r\n            and state != ''idle''\r\n       ) as y\r\n order \r\n    by x.\"wait_event_type\";\r\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Types","transform":"table","type":"table"},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":5,"w":19,"x":5,"y":19},"id":10,"options":{},"pageSize":null,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"left","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"/.*/","thresholds":[],"type":"string","unit":"short"}],"targets":[{"format":"table","group":[],"metricColumn":"none","rawQuery":true,"rawSql":"select wait_event_type,\n       wait_event,\n       query\n  from pg_stat_activity\n where usename is not null\n   and usename != ''dbmonitor''\n   and state = ''active''\n   and wait_event_type is not null;\n","refId":"A","select":[[{"params":["value"],"type":"column"}]],"timeColumn":"time","where":[{"name":"$__timeFilter","params":[],"type":"macro"}]}],"timeFrom":null,"timeShift":null,"title":"Query Wait Detail","transform":"table","type":"table"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["1s","2s","5s","10s"]},"timezone":"","title":"PostgreSQL Statement Statistics","uid":"yyqCOoQWz","version":16}');
CREATE TABLE `team` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `email` TEXT NULL);
CREATE TABLE `team_member` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external` INTEGER NULL, `permission` INTEGER NULL);
CREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);
INSERT INTO dashboard_acl VALUES(1,-1,-1,NULL,NULL,1,'Viewer','2017-06-20','2017-06-20');
INSERT INTO dashboard_acl VALUES(2,-1,-1,NULL,NULL,2,'Editor','2017-06-20','2017-06-20');
CREATE TABLE `tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
);
CREATE TABLE `login_attempt` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
);
CREATE TABLE `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `o_auth_access_token` TEXT NULL, `o_auth_refresh_token` TEXT NULL, `o_auth_token_type` TEXT NULL, `o_auth_expiry` DATETIME NULL);
CREATE TABLE `server_lock` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
);
INSERT INTO server_lock VALUES(1,'cleanup expired auth tokens',2,1583169344);
INSERT INTO server_lock VALUES(2,'delete old login attempts',22,1582057883);
CREATE TABLE `user_auth_token` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
);
CREATE TABLE `cache_data` (
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('migration_log',233);
INSERT INTO sqlite_sequence VALUES('user',1);
INSERT INTO sqlite_sequence VALUES('dashboard',3);
INSERT INTO sqlite_sequence VALUES('dashboard_provisioning',0);
INSERT INTO sqlite_sequence VALUES('data_source',2);
INSERT INTO sqlite_sequence VALUES('api_key',0);
INSERT INTO sqlite_sequence VALUES('dashboard_version',19);
INSERT INTO sqlite_sequence VALUES('dashboard_acl',2);
INSERT INTO sqlite_sequence VALUES('login_attempt',0);
INSERT INTO sqlite_sequence VALUES('org',1);
INSERT INTO sqlite_sequence VALUES('org_user',1);
INSERT INTO sqlite_sequence VALUES('server_lock',2);
INSERT INTO sqlite_sequence VALUES('user_auth_token',4);
INSERT INTO sqlite_sequence VALUES('star',1);
INSERT INTO sqlite_sequence VALUES('preferences',1);
CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);
CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);
CREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`);
CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`);
CREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`);
CREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);
CREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`);
CREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`);
CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);
CREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`);
CREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`);
CREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`);
CREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`);
CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`);
CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`);
CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);
CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`);
CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`);
CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`);
CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`);
CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);
CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`);
CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);
CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);
CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);
CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);
CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);
CREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`);
CREATE INDEX `IDX_alert_state` ON `alert` (`state`);
CREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`);
CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);
CREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`);
CREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);
CREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`);
CREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`);
CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`);
CREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`);
CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`);
CREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`);
CREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);
CREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`);
CREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`);
CREATE INDEX `IDX_team_org_id` ON `team` (`org_id`);
CREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`);
CREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`);
CREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`);
CREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`);
CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`);
CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);
CREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`);
CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);
CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);
CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`);
CREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`);
CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`);
CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);
CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`);
COMMIT;
