# Generated by Django 3.2.11 on 2022-03-03 19:25
from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [("reporting", "0219_increase_decimal_precision")]

    # The TRUNCATEs should effectively be a no-op since the truncate CJI has already run
    # But it allows me to put the RemoveField calls into the state operations so that
    # multiple ALTER TABLE statements are not thrown when we're just going to drop
    # the table anyway.
    operations = [
        migrations.RunSQL(
            sql="""TRUNCATE TABLE reporting_ocpawscostlineitem_project_daily_summary;""",
            reverse_sql=migrations.RunSQL.noop,
            state_operations=[
                migrations.RemoveField(model_name="ocpawscostlineitemprojectdailysummary", name="account_alias"),
                migrations.RemoveField(model_name="ocpawscostlineitemprojectdailysummary", name="cost_entry_bill"),
                migrations.RemoveField(model_name="ocpawscostlineitemprojectdailysummary", name="report_period"),
            ],
        ),
        migrations.RunSQL(
            sql="""TRUNCATE TABLE reporting_ocpawscostlineitem_daily_summary;""", reverse_sql=migrations.RunSQL.noop
        ),
        migrations.RunSQL(
            sql="""TRUNCATE TABLE reporting_ocpazurecostlineitem_project_daily_summary;""",
            reverse_sql=migrations.RunSQL.noop,
            state_operations=[
                migrations.RemoveField(model_name="ocpazurecostlineitemprojectdailysummary", name="cost_entry_bill"),
                migrations.RemoveField(model_name="ocpazurecostlineitemprojectdailysummary", name="report_period"),
            ],
        ),
        migrations.RunSQL(
            sql="""TRUNCATE TABLE reporting_ocpazurecostlineitem_daily_summary;""",
            reverse_sql=migrations.RunSQL.noop,
            state_operations=[
                migrations.RemoveField(model_name="ocpazurecostlineitemdailysummary", name="cost_entry_bill"),
                migrations.RemoveField(model_name="ocpazurecostlineitemdailysummary", name="report_period"),
            ],
        ),
        migrations.DeleteModel(name="OCPAWSCostLineItemDailySummary"),
        migrations.DeleteModel(name="OCPAWSCostLineItemProjectDailySummary"),
        migrations.DeleteModel(name="OCPAzureCostLineItemDailySummary"),
        migrations.DeleteModel(name="OCPAzureCostLineItemProjectDailySummary"),
    ]
